(this["webpackJsonppomodoro-pug"]=this["webpackJsonppomodoro-pug"]||[]).push([[0],{17:function(e,t,a){e.exports=a(31)},22:function(e,t,a){},23:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(11),o=a.n(s),c=(a(22),a(23),a(24),a(12)),r=a(13),l=function(e){var t=e.title;return i.a.createElement("nav",{className:"navbar"},i.a.createElement("div",{className:"navbar-brand"},i.a.createElement("div",{className:"navbar-item content"},i.a.createElement("span",{className:"is-size-5-desktop has-text-weight-bold"},t))),i.a.createElement("div",{className:"navbar-menu"},i.a.createElement("div",{className:"navbar-end"},i.a.createElement("a",{href:"https://less.coffee",className:"navbar-item"},"less.coffee",i.a.createElement("span",{className:"icon is-medium fas"},i.a.createElement(c.a,{icon:r.a}))))))},u=a(2),m=a(5),d=a(6),f=a(16),h=function(){function e(){Object(m.a)(this,e),this.timer=void 0,this.onSkip=void 0,this.onInitialTimeUpdated=void 0,this.onRecordsUpdated=void 0,this.timerInitialTime=0,this.timerRecords=[],this.lastDuration=0,this.lastStartTime=new Date,this.timerTomatoStatus="work",this.timer=new f.a({interval:50}),this.onSkip=function(){},this.onInitialTimeUpdated=function(e){},this.onRecordsUpdated=function(){}}return Object(d.a)(e,[{key:"setOnTick",value:function(e){this.timer.on("tick",e)}},{key:"setOnDone",value:function(e){return this.timer.on("done",e)}},{key:"removeOnDone",value:function(e){return this.timer.off("done",e)}},{key:"start",value:function(e){this.lastDuration=e,this.lastStartTime=new Date(Date.now()),this.timer.start(e)}},{key:"pause",value:function(){this.timer.pause()}},{key:"resume",value:function(){this.timer.resume()}},{key:"stop",value:function(){this.timer.stop()}},{key:"setOnStatusChanged",value:function(e){this.timer.on("statusChanged",e)}},{key:"status",value:function(){return this.timer.status}},{key:"time",value:function(){return this.timer.time}},{key:"setInitialTime",value:function(e){this.timerInitialTime=e,console.log(this.timerInitialTime),this.onInitialTimeUpdated(e)}},{key:"setOnInitialTimeUpdated",value:function(e){this.onInitialTimeUpdated=e}},{key:"initialTime",value:function(){return this.timerInitialTime}},{key:"setOnSkip",value:function(e){this.onSkip=e}},{key:"createRecord",value:function(e){var t={duration:this.lastDuration-this.timer.time,tomatoStatus:e,timeStarted:this.lastStartTime};this.timerRecords.push(t),this.onRecordsUpdated(this.records()),console.log(this.records())}},{key:"records",value:function(){return this.timerRecords}},{key:"setOnRecordsUpdated",value:function(e){this.onRecordsUpdated=e}},{key:"setTomatoStatus",value:function(e){this.timerTomatoStatus=e}},{key:"tomatoStatus",value:function(){return this.timerTomatoStatus}}]),e}(),v=i.a.createContext(new h),p=function(e){var t=Object(n.useContext)(v),a=Object(n.useState)(t.status()),s=Object(u.a)(a,2),o=s[0],c=s[1],r=Object(n.useState)(15e5),l=Object(u.a)(r,2),m=l[0],d=l[1],f=Object(n.useState)(t.tomatoStatus()),h=Object(u.a)(f,2),p=h[0],E=h[1];return Object(n.useEffect)((function(){console.log(o),t.setInitialTime(m),t.setOnStatusChanged((function(e){console.log(e),c(e)}))}),[]),Object(n.useEffect)((function(){var e=function(){"work"===p?(d(3e5),t.setInitialTime(3e5),E("rest"),t.createRecord("work"),t.start(3e5)):"rest"===p&&(d(15e5),t.setInitialTime(15e5),E("work"),t.createRecord("rest"),t.start(15e5))};return t.setOnDone(e),function(){t.removeOnDone(e)}}),[p]),Object(n.useEffect)((function(){console.log(p)}),[p]),i.a.createElement("div",{className:"level"},i.a.createElement("div",{className:"level-left"},i.a.createElement("span",{className:"button level-item is-primary ".concat("stopped"!==o&&"is-static"),onClick:function(){return t.start(m)}},"Start"),i.a.createElement("span",{className:"button level-item",onClick:function(){"paused"===o?t.resume():t.pause()}},"paused"===o?"Resume":"Pause"),i.a.createElement("span",{className:"button level-item",onClick:function(){t.createRecord(p),t.stop(),t.onSkip(15e5),d(15e5)}},"Skip")))},E=function(e){var t=Object(n.useContext)(v),a=Object(n.useState)(t.initialTime()/1e3),s=Object(u.a)(a,2),o=s[0],c=s[1],r=Object(n.useState)(t.tomatoStatus()),l=Object(u.a)(r,2),m=l[0],d=(l[1],Object(n.useState)(t.status())),f=Object(u.a)(d,2),h=f[0],p=f[1];Object(n.useEffect)((function(){console.log("registering listeners for timergraphic"),c(t.initialTime()/1e3),t.setOnTick((function(e){c(e/1e3)})),t.setOnSkip((function(e){c(e/1e3)})),t.setOnInitialTimeUpdated((function(e){console.log(e),c(e/1e3)})),t.setOnStatusChanged((function(e){console.log(e),p(e)}))}),[]);var E=Math.floor(o/60),b=Math.floor(o%60),k="".concat(m," time remaining (").concat(h,"):");return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"is-capitalized"},k),i.a.createElement("span",{className:"is-size-1"},E,"m ",b,"s"))},b=a(9),k=a(15),O=a.n(k),S=function(e){var t=Object(n.useContext)(v),a=Object(n.useState)(Object(b.a)(t.records())),s=Object(u.a)(a,2),o=s[0],c=s[1];return Object(n.useEffect)((function(){t.setOnRecordsUpdated((function(e){console.log("records updated"),c(Object(b.a)(e))}))}),[]),Object(n.useEffect)((function(){}),[o]),i.a.createElement("table",{className:"table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("td",null,"Duration"),i.a.createElement("td",null,"Work/Rest"),i.a.createElement("td",null,"Start Time"))),i.a.createElement("tbody",null,o.map((function(e){console.log(e);var t=e.duration/1e3,a=Math.floor(t/60),n=Math.floor(t%60);return i.a.createElement("tr",{key:e.timeStarted.getTime()},i.a.createElement("td",null,a,"m ",n,"s"),i.a.createElement("td",{className:"is-capitalized"},e.tomatoStatus),i.a.createElement("td",null,O()(e.timeStarted).format("h:mm:ss a")))}))))};var g=function(){return i.a.createElement("div",{className:"container"},i.a.createElement(v.Provider,{value:new h},i.a.createElement(l,{title:"Pugodoro"}),i.a.createElement("div",{className:"columns"},i.a.createElement("div",{className:"column"},i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"container"},i.a.createElement(E,null),i.a.createElement(p,null)))),i.a.createElement("div",{className:"column"},i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"container"},i.a.createElement(S,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.55172410.chunk.js.map